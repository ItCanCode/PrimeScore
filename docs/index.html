<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover"
  />
  <meta name="color-scheme" content="light dark" />
  <title>PrimeScore Documentation</title>
  <link rel="stylesheet" href="docs.css" />
</head>

<body>
  <!-- Skip link for keyboard users -->
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header" role="banner">
    <div class="container">
      <h1 class="site-title">PrimeScore Documentation</h1>
      <p class="site-tagline">Real-time sports feeds • Live updates • Admin tools</p>
    </div>
  </header>

  <nav class="site-nav" aria-label="Primary">
    <div class="container">
      <ul class="nav-list">
        <li><a href="#overview">Overview</a></li>
        <li><a href="#architecture">Architecture</a></li>
        <li><a href="#api">APIs</a></li>
        <li><a href="#backlog">Sprint Backlog</a></li>
        <li><a href="#stories">User Stories</a></li>
        <li><a href="#sprint2-bugs">Sprint 2 Bug Tracking</a></li>
        <li><a href="#setup">Setup Guide</a></li>
        <li><a href="#git">Git Workflow</a></li>
        <li><a href="#database">Database</a></li>
        <li><a href="#testing">Testing</a></li>
        <li><a href="#userfeedback">User Feedback</a></li>
    </div>
  </nav>

  <main id="main" class="container" role="main">
    <!-- Overview -->
    <section id="overview" class="section" aria-labelledby="overview-title">
      <header class="section-header">
        <h2 id="overview-title">Project Overview</h2>
      </header>
      <p>
        PrimeScore is a real-time sports broadcasting and viewer experience tool that provides live updates,
        visualizations, and commentary feeds for ongoing games.
      </p>
      <ul class="bullets">
        <li><strong>Match Viewer</strong> — Instantly view the current score, 
          live game clock, team lineups, and real-time updates on possession. 
          Track all key events—such as goals, fouls, cards, and 
          substitutions, presented with clear visuals and context.</li>
        <li><strong>Event Feed & Timeline</strong> — Experience a detailed, animated timeline of in-game events,
           each with precise timestamps. See substitutions, cards, goals, and other actions
            as they happen, with smooth animations and color-coded highlights for easy tracking.</li>
        <li><strong>Match Setup</strong> — Effortlessly create new matches, 
          add or edit teams and players, and set up expected schedules. 
          Organizers can manage rosters, assign roles, 
          and configure match details before kickoff.</li>
        <li><strong>Live Input</strong> — Enter events and update scores in real time with 
          intuitive controls. Supports pausing and resuming the match clock, as well 
          as editing the event timeline to correct or 
          update past actions. All changes are reflected instantly for viewers.</li>
        <li><strong>Interactive Commentary</strong>-Integrate live commentary feeds, fan polls, 
          and reactions to keep the audience 
          engaged and informed throughout the match.</li>
      </ul>
    </section>

    <!-- Architecture -->
    <section id="architecture" class="section" aria-labelledby="arch-title">
      <header class="section-header">
        <h2 id="arch-title">High-Level Architecture</h2>
      </header>

      <p>PrimeScore uses a client–server architecture:</p>
      <ul class="bullets">
      <li><strong>Frontend (React on Vercel):</strong> Chosen because React's component-based structure makes it ideal for building dynamic UIs like scoreboards and dashboards, while Vercel provides seamless deployments, global CDN, and automatic scaling for fast access worldwide.</li>

      <li><strong>Backend (Node.js/Express on Azure):</strong> Selected for its ability to handle real-time data efficiently. Node.js/Express offers lightweight, scalable APIs for match setup and live feeds, while Azure provides reliability, monitoring, and scalability as the platform grows.</li>

      <li><strong>Database (Firestore):</strong> Used for its real-time synchronization capabilities, ensuring that match updates, team changes, and events appear instantly for all users. Firestore also scales automatically and integrates smoothly with Firebase services.</li>

      <li><strong>Authentication (Firebase Auth):</strong> Provides secure, role-based access management. It was chosen because it supports multiple authentication methods and allows us to easily manage roles (admin, manager, viewer) with minimal setup.</li>
    </ul>


      <figure class="figure">
        <img src="architecture.png" alt="PrimeScore high-level architecture diagram" />
        <figcaption>Figure 1 — System overview and data flow.</figcaption>
      </figure>

      <h3>UML Diagrams</h3>
      <div class="media-grid">
        <figure class="figure">
          <img src="PrimeScore(use_cases)_sprint_2.png" alt="PrimeScore use case diagram" />
          <figcaption>Use Case Diagram</figcaption>
        </figure>
        <figure class="figure">
          <img src="PrimeScore(state_diagram)_sprint_2.png" alt="PrimeScore state diagram" />
          <figcaption>State Diagram</figcaption>
        </figure>
      </div>

      <h4>Basic Wireframe</h4>
      <figure class="figure">
        <img src="wireframe1.png" alt="Wireframe of PrimeScore home page layout" />
        <figcaption>Low-fidelity wireframe for the home page.</figcaption>
      </figure>
    </section>

    <!-- APIs -->
<section id="api" class="section" aria-labelledby="third-party-title">
  <header class="section-header">
    <h2 id="third-party-title">Third-Party Code Documentation</h2>
  </header>

  <p>
    This project uses multiple third-party <strong>frameworks, libraries, developer tools, and external APIs</strong>.
    These components were carefully selected to accelerate development, ensure reliability, and support real-time sports data integration.
  </p>

  <h3>Frameworks & Libraries</h3>

  <h4>Backend</h4>
  <ul>
    <li><strong>Express.js (v5.1.0)</strong>
      <ul>
        <li>Purpose: Web framework for building RESTful APIs.</li>
        <li>Why Used: Handles routing, middleware, and HTTP request/response handling.</li>
        <li>Challenges: Migration from Express 4 to 5 required adapting middleware.</li>
      </ul>
    </li>
    <li><strong>Cloudinary (v2.7.0)</strong>
      <ul>
        <li>Purpose: Cloud storage for media uploads.</li>
        <li>Why Used: Stores match-related images (logos, banners) with fast delivery.</li>
        <li>Challenges: Authentication via API key and secure URL handling.</li>
      </ul>
    </li>
    <li><strong>CORS (v2.8.5)</strong>
      <ul>
        <li>Purpose: Cross-Origin Resource Sharing middleware.</li>
        <li>Why Used: Allows the frontend (React) to interact with backend APIs securely.</li>
        <li>Challenges: Configuring allowed origins without overexposing endpoints.</li>
      </ul>
    </li>
    <li><strong>Dotenv (v17.2.2)</strong>
      <ul>
        <li>Purpose: Loads environment variables.</li>
        <li>Why Used: Secures API keys (Firebase, SoccerDataAPI, Rugby API).</li>
        <li>Challenges: Ensuring `.env` files are excluded from Git.</li>
      </ul>
    </li>
    <li><strong>Firebase-Admin (v13.4.0)</strong>
      <ul>
        <li>Purpose: Server-side SDK for Firebase Auth & Firestore.</li>
        <li>Why Used: Validates tokens and enforces role-based access (admin, official, resident).</li>
        <li>Challenges: Token verification in middleware and syncing with client Firebase SDK.</li>
      </ul>
    </li>
    <li><strong>Multer (v2.0.2)</strong>
      <ul>
        <li>Purpose: Middleware for file uploads.</li>
        <li>Why Used: Handles user uploads (team logos, documents).</li>
        <li>Challenges: Managing file storage before pushing to Cloudinary.</li>
      </ul>
    </li>
  </ul>

  <h4>Frontend</h4>
  <ul>
    <li><strong>React (v19.1.0)</strong> — Frontend library for building UI; dynamic rendering of live match data and dashboards.</li>
    <li><strong>React-DOM (v19.1.0)</strong> — Integrates React components with the DOM.</li>
    <li><strong>React-Router-DOM (v7.8.0)</strong> — Client-side routing; protects routes with Firebase authentication.</li>
    <li><strong>Lucide-React (v0.541.0)</strong> — Lightweight icon set for React.</li>
    <li><strong>React-Icons (v5.5.0)</strong> — Additional icons for UI.</li>
    <li><strong>Firebase (v12.1.0)</strong> — Client SDK for Firebase Auth & Firestore; handles login, token issuance, and Firestore reads/writes.</li>
  </ul>

  <h3>Testing & Developer Tools</h3>
  <ul>
    <li><strong>Jest (v30.0.5)</strong> — Testing framework for unit/integration/coverage tests.</li>
    <li><strong>Supertest (v7.1.4)</strong> — HTTP assertions for Express apps.</li>
    <li><strong>Nodemon (v3.1.10)</strong> — Auto-restarts Node.js server during development.</li>
    <li><strong>Babel</strong> — Transpiles ES6+ syntax for Jest/Node.</li>
    <li><strong>ESLint (v9.30.1 + plugins)</strong> — Enforces coding standards (with React Hooks & refresh plugins).</li>
    <li><strong>Vite (v6.3.5)</strong> — Frontend bundler & dev server with HMR support.</li>
    <li><strong>Rollup (v4.46.2)</strong> — Bundler used internally by Vite.</li>
    <li><strong>Codecov Vite Plugin (v1.9.1)</strong> — Coverage reporting.</li>
  </ul>

  <h3>Third-Party APIs</h3>
  <h4>SoccerDataAPI</h4>
  <ul>
    <li>Purpose: Real-time and seasonal soccer data.</li>
    <li>Endpoints Used: livescores, matches</li>
    <li>Coverage: EPL, La Liga, Serie A, PSL</li>
    <li>Challenges: Nested JSON, league ID mapping, date/time parsing.</li>
  </ul>

  <h4>ScoreDataAPI (Rugby)</h4>
  <ul>
    <li>Purpose: Real-time rugby match data.</li>
    <li>Endpoints Used: competitions, matches, livescores</li>
    <li>Coverage: Rugby World Cup, Rugby Championship, URC, Currie Cup</li>
    <li>Challenges: Mapping rugby-specific events (try, conversion) to UI.</li>
  </ul>

  <h3>Summary</h3>
  <ul>
    <li>Build scalable backend (Express, Firebase-Admin) and frontend (React, Vite).</li>
    <li>Implement secure authentication and role-based access.</li>
    <li>Provide real-time sports data (soccer & rugby) via APIs.</li>
    <li>Maintain code quality with testing and linting tools.</li>
    <li>Deliver polished UX with icons and fast builds.</li>
  </ul>
</section>



    <!-- Backlog -->
    <section id="backlog" class="section" aria-labelledby="backlog-title">
      <header class="section-header">
        <h2 id="backlog-title">Current Sprint Backlog</h2>
      </header>
      <ul class="checklist">
        <li>Implement real-time live score updates for ongoing matches</li>
        <li>Build event timeline for match feeds (goals, fouls, substitutions, cards)</li>
        <li>Enable match status transitions (upcoming → ongoing → completed) with admin controls</li>
        <li>Allow managers to create/edit teams and assign player roles</li>
        <li>Support manual event input and timeline editing for admins</li>
        <li>Integrate live commentary and stats overlays for viewers</li>
        <li>Enhance match setup: venue, time, teams, and player management</li>
        <li>Improve authentication and role-based access (admin, manager, viewer)</li>
        <li>Refactor API endpoints for clarity and RESTful design</li>
        <li>Expand test coverage for backend </li>
        <li>Polish UI/UX for match viewer and event feed (responsive, accessible)</li>
        <li>Update documentation with new API details and setup instructions</li>
      </ul>
    </section>

    <!-- User Stories -->
    <section id="stories" class="section" aria-labelledby="stories-title">
      <header class="section-header">
        <h2 id="stories-title">Sprint 1 User Stories</h2>
      </header>
      <ol class="ordered">
        <li>As a viewer, I want to create an account and log in, so that I can access my homepage.</li>
        <li>As a viewer, I want to see upcoming matches on my homepage, so that I stay updated on events.</li>
        <li>As a viewer, I want to open a profile page, so that I can view my profile details.</li>
        <li>As a viewer, I want to edit my personal details, so that my profile stays up-to-date.</li>
        <li>As a viewer, I want to log out and return to the Welcome page, so that I exit my session safely.</li>
        <li>As a developer, I want to host a documentation site on GitHub Pages, so contributors can access docs easily.</li>
        <li>As a developer, I want to set up backend testing, so that I can ensure the system works correctly.</li>
        <li>As an admin, I want to create a match using a form, so that it appears under upcoming matches for viewers.</li>
        <li>As an admin, I want to log in to the Admin page, so that I can access the admin homepage.</li>
        <li>As a developer, I want to deploy the app to Vercel (frontend) and Azure (backend), so that it's hosted online.</li>
      </ol>
    </section>

        <section id="stories" class="section" aria-labelledby="stories-title">
      <header class="section-header">
        <h2 id="stories-title">Sprint 2 User Stories</h2>
      </header>
      <ol class="ordered">
        <li>As a viewer, I want to see the live score of my team, so that I can follow the match in real time.</li>
        <li>As a viewer, I want to see the recent fouls and substitutions that have been made in the game</li>
        <li>As a manager, I want to create a new team, so that I can manage my players and participate in matches.</li>
        <li>As a manager, I want to add players to a team, so that I can build my roster.</li>
        <li>As an admin, I want to see the scheduled matches so that im able to start the match at the right time and date</li>
        <li>As an admin, I want to update the status of a match from upcoming to ongoing, so that fans and players know the match has started.</li>
        <li>As an admin, I want to update the events of the matches, so that the viewers can see the events occuring in the match.</li>
      </ol>
    </section>
    
    <section id="stories" class="section" aria-labelledby="stories-title">
      <header class="section-header">
        <h2 id="stories-title">Sprint 3 User Stories</h2>
      </header>
      <ol class="ordered">
        <li>As a viewer, I want to see netball,rugby and football options so i can watch a sport of my choice </li>
        <li>As a viewer, I want to see animations for current match events so I don't have to refresh to see changes</li>
      </ol>
    </section>
    <!-- Sprint 2 Bug Resolution -->
    <section id="sprint2-bugs" class="section" aria-labelledby="sprint2-bugs-title">
      <header class="section-header">
        <h2 id="sprint2-bugs-title">Sprint 2 Bug Resolution</h2>
      </header>

      <p>
        During Sprint 2, the team decided to prioritize <strong>bug fixing</strong> before starting Sprint 3. 
        This was crucial to prevent app instability and crashes as we scale. 
        A total of <strong>17 issues</strong> were identified, including critical bugs, minor UI/UX inconsistencies, 
        and improvement tasks to prepare the app for new features.
      </p>

      <h3>Timeline & Burndown</h3>
      <p>
        The bug resolution effort ran from <strong>Wednesday, 24th</strong> to <strong>Wednesday, 1st</strong>. 
        Referring to the sprint burndown chart, we observed:
      </p>
      <ul class="bullets">
        <li><strong>Days 1–2:</strong> Focused on reproducing and prioritizing bugs (bug count remained constant).</li>
        <li><strong>Day 3:</strong> Major drop (≈ 40% of bugs resolved).</li>
        <li><strong>Days 4–6:</strong> Gradual resolution of remaining issues.</li>
        <li><strong>End of Sprint:</strong> Only one low-priority bug remained open, moved to Sprint 3.</li>
      </ul>

      <figure class="figure">
        <img src="sprint2_burndown.png" alt="Sprint 2 burndown chart" />
        <figcaption>Figure — Sprint 2 bug resolution progress over time.</figcaption>
      </figure>

      <h3>Bug Metrics</h3>
      <ul class="bullets">
        <li><strong>Resolved:</strong> 16/17 bugs (≈ 94% completion)</li>
        <li><strong>Velocity:</strong> 12 bug cards closed within this sprint</li>
        <li><strong>Overdue:</strong> 3 improvement tasks carried over to Sprint 3</li>
        <li><strong>In Progress:</strong> 1 open bug card by sprint close</li>
      </ul>

      <h3>Outcome</h3>

      <p>
        By addressing the majority of issues before Sprint 3, the app is now more stable, 
        reducing the risk of runtime crashes and allowing the team to focus on new features. 
        This approach helped reduce technical debt and will improve velocity in upcoming sprints.
      </p>

      <figure class="figure">
        <img src="bug_tracking_dashboard.png" alt="Bug tracking dashboard metrics" />
        <figcaption>Figure — Sprint 2 bug tracking dashboard summary.</figcaption>
      </figure>

    </section>

    <!-- Setup -->
    <section id="setup" class="section" aria-labelledby="setup-title">
      <header class="section-header">
        <h2 id="setup-title">Developer Setup Guide</h2>
      </header>

  <pre class="code-block" aria-label="setup commands"><code>git clone https://github.com/your-repo/primescore.git

# Prerequisites
# - Node.js (v18+ recommended)
# - npm (v9+ recommended)
# - (Optional) VS Code for best experience

# 1. Set up the frontend
cd frontend
npm install
# Create a .env file if you need to override API URLs or add keys
# Example: VITE_API_BASE_URL, VITE_FIREBASE_API_KEY, etc.
npm run dev

# 2. Set up the backend (in a new terminal)
cd backend
npm install
# Copy .env.example to .env and fill in Firebase credentials and any other secrets
npm run dev

# 3. Access the app
# - Frontend: http://localhost:5173 (default Vite port)
# - Backend: http://localhost:3000 (default Express port)

# 4. (Optional) Run tests
# In backend: npm test
</code></pre>

  <ul class="bullets">
    <li><strong>Environment Variables:</strong> Both frontend and backend use <code>.env</code> files for secrets and config. Never commit secrets to git.</li>
    <li><strong>Proxy Setup:</strong> The frontend is configured to proxy <code>/api</code> requests to the backend during development (see <code>vite.config.js</code>).</li>
    <li><strong>Firebase:</strong> You need a Firebase project and service account for backend integration. Place your credentials in <code>backend/.env</code> as shown in <code>.env.example</code>.</li>
    <li><strong>Common Issues:</strong> If you see CORS errors or API 404s, make sure both servers are running and the proxy is set up correctly.</li>
    <li><strong>Recommended Tools:</strong> VS Code, Postman (for API testing), and GitHub Desktop or CLI for version control.</li>
    <li><strong>Hot Reload:</strong> Both frontend and backend support hot reload for rapid development.</li>
  </ul>

  <p class="note">If you encounter issues, check the README files in each folder or contact the project maintainer.</p>
    </section>

    <!-- Git -->
    <section id="git" class="section" aria-labelledby="git-title">
      <header class="section-header">
        <h2 id="git-title">Git Workflow Overview</h2>
      </header>

      <ul class="bullets">
        <li><strong>Branching:</strong> <code>main</code> for stable code; feature branches for new work.</li>
        <li><strong>Pull Requests:</strong> All changes go through PR review with at least one approval.</li>
        <li><strong>Commit messages:</strong> Conventional commits: <code>type(scope): short description</code>.</li>
      </ul>
    </section>

        <!-- Database -->
    <section id="database" class="section" aria-labelledby="db-title">
      <header class="section-header">
        <h2 id="db-title">Database Documentation</h2>
      </header>

      <h3>Schema Overview</h3>
      <ul class="bullets">
        <li><strong>teams</strong> (collection)
          <ul>
            <li><code>teamId</code> — unique identifier (auto-generated)</li>
            <li><code>teamName</code> — full name of the team</li>
            <li><code>shortName</code> — abbreviation for displays</li>
            <li><code>sportType</code> — e.g. Football, Basketball</li>
            <li><code>city</code> — home city</li>
            <li><code>createdBy</code> — UID of the manager who created the team</li>
          </ul>
        </li>

        <li><strong>players</strong> (collection)
          <ul>
            <li><code>playerId</code> — unique identifier (auto-generated)</li>
            <li><code>name</code> — player's full name</li>
            <li><code>teamId</code> — reference to <code>teams.teamId</code></li>
          </ul>
        </li>

        <li><strong>matches</strong> (collection)
          <ul>
            <li><code>matchId</code> — unique identifier</li>
            <li><code>homeTeamId</code> — reference to <code>teams.teamId</code></li>
            <li><code>awayTeamId</code> — reference to <code>teams.teamId</code></li>
            <li><code>dateTime</code> — scheduled start time</li>
            <li><code>status</code> — upcoming | ongoing | completed</li>
          </ul>
        </li>

        <li><strong>match_events</strong> (subcollection under matches)
          <ul>
            <li><code>eventId</code> — unique identifier</li>
            <li><code>type</code> — goal, foul, substitution, etc.</li>
            <li><code>timestamp</code> — game clock / real time</li>
            <li><code>playerId</code> — reference to <code>players.playerId</code></li>
          </ul>
        </li>
      </ul>

      <h3>Deployment Info</h3>
      <p>
        The database is deployed on <strong>Firebase Firestore</strong>, which provides:
      </p>
      <ul class="bullets">
        <li>Global availability and auto-scaling</li>
        <li>Real-time synchronization for instant updates across clients</li>
        <li>Seamless integration with Firebase Authentication and Cloud Functions</li>
      </ul>

      <h3>Choice Justification</h3>
      <p>
        Firestore was chosen over traditional SQL databases because of its ability to handle 
        real-time data streams, which are critical for sports event updates. Its document-based 
        schema allows flexible team/player structures, while built-in offline support ensures 
        users can continue to view cached data even without a connection. Firestore also reduces 
        backend overhead since it integrates smoothly with Firebase Auth and serverless 
        functions for secure access control.
      </p>
    </section>

        <!-- Testing -->
    <section id="testing" class="section" aria-labelledby="testing-title">
      <header class="section-header">
        <h2 id="testing-title">Testing Documentation</h2>
      </header>

      <h3>User Feedback Process</h3>
      <p>
        We follow a structured process to collect and integrate user feedback:
      </p>
      <ol class="ordered">
        <li><strong>Feedback Collection</strong> — Users submit feedback via a google form.</li>
        <li><strong>Review</strong> — The development team reviews and categorizes feedback (bug, feature request, usability).</li>
        <li><strong>Prioritization</strong> — Items are logged into the product backlog and tagged for the appropriate sprint.</li>
        <li><strong>Follow-up</strong> — Users are notified when their feedback results in an update.</li>
      </ol>

<h3>Automated Testing</h3>
<p>
  Automated testing is set up to ensure system reliability and quick feedback during development.
</p>
<ul class="bullets">
  <li><strong>Unit Testing</strong> — Implemented with Jest (backend) and React Testing Library (frontend).</li>
  <li><strong>Coverage</strong> — Code coverage reports are generated and displayed in the repository (via CI pipeline).</li>
  <li><strong>Continuous Integration</strong> — Tests run automatically on GitHub Actions with every pull request.</li>
</ul>

<h4>Implemented Test Suites</h4>
<ul class="bullets">
  <li><strong>Authentication</strong>
    <ul>
      <li><code>verifyGoogleToken</code> service — validates Google tokens.</li>
      <li><code>googleAuth</code> controller — signup, login, error handling.</li>
    </ul>
  </li>
  <li><strong>Manager Controller</strong>
    <ul>
      <li><code>createTeam</code> — creates teams, handles Firestore errors.</li>
      <li><code>addPlayers</code> — adds players, validates ownership, errors.</li>
      <li><code>myTeam</code> — fetches team by user, handles missing/error cases.</li>
    </ul>
  </li>
  <li><strong>Admin Controller</strong>
    <ul>
      <li><code>createMatch</code> — creates matches, error handling.</li>
      <li><code>updateMatchStatus</code> — updates match status, not-found errors.</li>
      <li><code>updateScore</code> — updates scores, records goals as events.</li>
      <li><code>addMatchEvent</code> — adds events like cards or fouls.</li>
      <li><code>allTeams</code> — fetches all teams, filters by sport type, handles errors.</li>
    </ul>
  </li>
  <li><strong>LiveSport Controller</strong>
    <ul>
      <li>Adds upcoming matches in batch.</li>
      <li>Handles empty or invalid requests.</li>
    </ul>
  </li>
  <li><strong>Feed Controller</strong>
    <ul>
      <li><code>startMatch</code> — initializes match events.</li>
      <li><code>recordGoal</code> — handles home/away goals, increments scores.</li>
      <li><code>recordSubstitution</code> — adds substitutions, validates fields.</li>
      <li><code>recordFoul</code> — records fouls with/without cards.</li>
    </ul>
  </li>
  <li><strong>Display Controller</strong>
    <ul>
      <li><code>getMatchEventsById</code> — fetches specific match events.</li>
      <li><code>getmatchEvents</code> — fetches all ongoing matches and events.</li>
    </ul>
  </li>
</ul>

<pre class="code-block" aria-label="run tests"><code># Run backend tests
cd backend
npm install
npm test

# Run frontend tests
cd frontend
npm install
npm test

# To view full coverage:
npm test -- --coverage
</code></pre>

<p class="note">
  Developers are required to write tests for all new features and bug fixes before merging.  
  This ensures that user feedback and automated verification work together to maintain quality.
</p>

    </section>

<section id="npm-audit" class="section" aria-labelledby="user-feedback-title">
  <h1>PrimeScore NPM Supply Chain Security Audit – Sprint 3</h1>

  <p><strong>Date:</strong> 29 September 2025</p>
  <p><strong>Scope:</strong> Check for presence of compromised NPM packages 
    from the September 2025 “debug & chalk” attack.</p>

  <h2>Compromised Packages (Baseline, from Aikido)</h2>
  <p>
    backslash, chalk-template, supports-hyperlinks, has-ansi, simple-swizzle, color-string,
    error-ex, color-name, is-arrayish, slice-ansi, color-convert, wrap-ansi, ansi-regex,
    supports-color, strip-ansi, chalk, debug, ansi-styles
  </p>

  <h2>4.1 Manual / Quick Checklist</h2>
  <h3>Objective</h3>
  <p>Quickly inspect PrimeScore’s dependencies for 
    compromised packages using manual commands and npm audit tools.</p>

  <h3>Steps & Commands</h3>
  <p>List all direct dependencies in <code>package.json</code>:</p>
  <pre class="code-block"><code>jq -r '.dependencies + .devDependencies | keys[]' package.json</code></pre>

  <p>Result:</p>
  <pre class="code-block"><code>firebase
lucide-react</code></pre>
  <p class="check">✅ No direct references to compromised packages found.</p>

  <p>Inspect transitive dependencies in <code>package-lock.json</code>:</p>
  <pre class="code-block"><code>jq -r '.dependencies | keys[]' package-lock.json</code></pre>
  <p class="warning">⚠️ Encountered error at line 1078: null has no keys</p>
  <p>Reason: Some dependencies may be optional or malformed. Proceed to node_modules scan.</p>

  <p>Check if compromised packages exist in <code>node_modules</code>:</p>
  <pre class="code-block"><code>for p in backslash chalk-template supports-hyperlinks has-ansi simple-swizzle color-string error-ex color-name \
is-arrayish slice-ansi color-convert wrap-ansi ansi-regex supports-color strip-ansi chalk debug ansi-styles; do
  if [ -d "node_modules/$p" ]; then echo "FOUND: $p in node_modules"; fi
done</code></pre>

  <p class="check">✅ No direct matches detected.</p>

  <p>Trace key compromised packages with <code>npm ls</code>:</p>
  <pre class="code-block"><code>npm ls debug chalk ansi-regex supports-color --all</code></pre>
  <pre class="code-block"><code>PrimeScore@ C:\...\PrimeScore
└── (empty)</code></pre>
  <p class="check">✅ No direct installation of these packages.</p>

  <p>Run <code>npm audit</code> to detect known vulnerabilities:</p>
  <pre class="code-block"><code>npm audit --json > audit.json</code></pre>

  <h3>audit.json Full Output</h3>
  <pre class="code-block" style="max-height:300px; overflow:auto;"><code>{
  "auditReportVersion": 2,
  "vulnerabilities": {},
  "metadata": {
    "vulnerabilities": {
      "info": 0,
      "low": 0,
      "moderate": 0,
      "high": 0,
      "critical": 0,
      "total": 0
    },
    "dependencies": {
      "prod": 88,
      "dev": 0,
      "optional": 0,
      "peer": 1,
      "peerOptional": 0,
      "total": 88
    }
  }
}</code></pre>
  <p class="check">✅ No known vulnerabilities detected by npm audit.</p>

  <p>Check package publish times for suspicious versions:</p>
  <pre class="code-block"><code>npm view debug time
npm view chalk time</code></pre>
  <p>Detected malicious versions published around 2025-09-08</p>
  <p class="check">✅ PrimeScore does not reference these recent versions.</p>

  <h3>Interpretation (4.1)</h3>
  <p>PrimeScore has no direct compromised packages.</p>
  <p>Manual inspection shows potential risk only in transitive dependencies, which requires deeper automated scanning.</p>

  <h2>4.2 Automated Scan – Python</h2>
  <h3>Objective</h3>
  <p>Use <code>scan_compromised.py</code> to recursively check both direct and transitive dependencies and installed node_modules.</p>

  <p>Command:</p>
  <pre class="code-block"><code>python3 scan_compromised.py</code></pre>

  <h3>Results</h3>
  <pre class="code-block"><code>Package            Location in Project
ansi-regex          node_modules/ansi-regex
ansi-styles         node_modules/ansi-styles
color-convert       node_modules/color-convert
color-name          node_modules/color-name
strip-ansi          node_modules/strip-ansi
wrap-ansi           node_modules/wrap-ansi

Direct dependencies: None
Transitive dependencies: Present → included via other packages (likely chalk or similar)
Installed node_modules: Confirmed</code></pre>

  <h3>Interpretation</h3>
  <p>Direct findings: <span class="check">✅ No immediate compromise.</span></p>
  <p>Transitive findings: <span class="warning">⚠️ Compromised packages exist deeper in dependency tree.</span></p>
  <p>Installed packages: <span class="warning">⚠️ Remediation needed to remove malicious versions if present.</span></p>

  <h3>Recommended Actions</h3>
  <ul>
    <li>Identify which top-level packages pull in the transitive compromised packages:
      <pre class="code-block"><code>npm ls ansi-regex wrap-ansi color-convert color-name strip-ansi</code></pre>
    </li>
    <li>Update or replace top-level packages if safe versions exist.</li>
    <li>Regenerate lockfile and reinstall dependencies:
      <pre class="code-block"><code>rm -rf node_modules package-lock.json
npm install</code></pre>
    </li>
    <li>Continue running <code>scan_compromised.py</code> after every dependency update.</li>
    <li>Use SCA tools (Snyk, GitHub Dependabot, GitHub code scanning) for continuous monitoring.</li>
    <li>Educate developers to avoid phishing attacks targeting maintainers.</li>
  </ul>

  <h2>Conclusion</h2>
  <p>PrimeScore is not directly compromised by the recent NPM supply chain attacks.</p>
  <p>Transitive dependencies contain compromised packages. Immediate remediation recommended:</p>
  <ul>
    <li>Trace top-level packages</li>
    <li>Update or lock safe versions</li>
    <li>Regenerate node_modules and lockfile</li>
  </ul>
  <p>This audit ensures PrimeScore’s supply chain remains safe against the September 2025 NPM malware.</p>
</section>


    <section id="userfeedback" class="section" aria-labelledby="testing-title">
      <header class="section-header">
        <h2 id="user-feedback-title">User Feedback</h2>
      </header>

      <p>
        A survey was conducted with <strong>28 participants</strong> to gather feedback on the app.The resuls are sumarized below.
      </p>

      <h3>Participant Roles</h3>
      <ul>
        <li>Viewer: 16 (57.1%)</li>
        <li>Team Manager: 5 (17.9%)</li>
        <li>Admin: 6 (21.4%)</li>
      </ul>

      <h3>Survey Ratings</h3>
      <table>
        <thead>
          <tr>
            <th>Question</th>
            <th>Average Rating</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Familiarity with live sports apps</td>
            <td>3.68 / 5</td>
          </tr>
          <tr>
            <td>Ease of navigating Match Viewer</td>
            <td>3.61 / 5</td>
          </tr>
          <tr>
            <td>Clarity of Event Feed</td>
            <td>3.61 / 5</td>
          </tr>
          <tr>
            <td>Satisfaction with Live Scoreboard layout</td>
            <td>3.89 / 5</td>
          </tr>
          <tr>
            <td>Speed and responsiveness</td>
            <td>3.39 / 5</td>
          </tr>
          <tr>
            <td>Overall satisfaction</td>
            <td>3.57 / 5</td>
          </tr>
        </tbody>
      </table>

      <h3>Most Useful Features</h3>
      <ul>
        <li>Match Viewer: 15 responses (57.7%)</li>
        <li>Event Feed: 14 responses (53.8%)</li>
        <li>Match Setup: 10 responses (38.5%)</li>
        <li>Manual Input Panel: 10 responses (38.5%)</li>
        <li>Live Scoreboard: 15 responses (57.7%)</li>
      </ul>

      <h3>Least Used or Unnecessary Features</h3>
      <ul>
        <li>News and Contact on navigation bar</li>
        <li>Profile</li>
        <li>Event Feed</li>
        <li>Live Scoreboard</li>
        <li>None</li>
      </ul>

      <h3>Reported Issues</h3>
      <ul>
        <li>Clock not working on live matches</li>
        <li>Admin bugs: starting match before scheduled date</li>
        <li>Manual input panel limited to football-specific events</li>
        <li>Cannot access certain leagues (e.g., Premier League)</li>
        <li>Suggestions: confirmation prompts, customizable user profiles, multi-sport compatibility</li>
      </ul>

      <h3>Recommendation</h3>
      <ul>
        <li>Yes: Majority of users</li>
        <li>No: Some users</li>
        <li>Maybe: Some users</li>
      </ul>

      <h3>Feedback Integration</h3>
      <p>The feedback gathered has been prioritized for integration in future sprints. Key actions include:</p>
      <ul>
        <li>Enhancing Event Feed clarity and filtering</li>
        <li>Making Manual Input Panel multi-sport compatible</li>
        <li>Adding confirmation prompts for match creation and event input</li>
        <li>Fixing clock and Live Scoreboard display issues</li>
        <li>Streamlining navigation and removing unnecessary menu items</li>
      </ul>

    </section>

  </main>

  <footer class="site-footer" role="contentinfo">
    <div class="container">
      <p>&copy; <span id="year"></span> PrimeScore Team</p>
    </div>
  </footer>

  <script>
    // Small enhancement: current year in footer
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>